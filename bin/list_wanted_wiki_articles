#!/usr/bin/env python

import argparse
from pathlib import Path
import json

from kglm_data.wiki import fetch_articles_to_parse

if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('output', type=Path)

    FLAGS, _ = parser.parse_known_args()

    articles = fetch_articles_to_parse()

    with open(FLAGS.output, "w") as f:
        for a in articles:
            f.write(json.dumps(a) + "\n")
